<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="embassy-net"><title>embassy_net - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="embassy_net" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.0-nightly (1ba35e9bb 2024-05-25)" data-channel="nightly" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../embassy_net/index.html">embassy_net</a><span class="version">0.4.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">embassy_net</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/embassy_net/lib.rs.html#1-913">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="embassy-net"><a class="doc-anchor" href="#embassy-net">§</a>embassy-net</h2>
<p><code>embassy-net</code> is a no-std no-alloc async network stack, designed for embedded systems.</p>
<p>It builds on <a href="https://github.com/smoltcp-rs/smoltcp"><code>smoltcp</code></a>. It provides a higher-level and more opinionated
API. It glues together the components provided by <code>smoltcp</code>, handling the low-level details with defaults and
memory management designed to work well for embedded systems, aiming for a more “Just Works” experience.</p>
<h3 id="features"><a class="doc-anchor" href="#features">§</a>Features</h3>
<ul>
<li>IPv4, IPv6</li>
<li>Ethernet and bare-IP mediums.</li>
<li>TCP, UDP, DNS, DHCPv4, IGMPv4</li>
<li>TCP sockets implement the <code>embedded-io</code> async traits.</li>
</ul>
<p>See the <a href="https://github.com/smoltcp-rs/smoltcp"><code>smoltcp</code></a> README for a detailed list of implemented and 
unimplemented features of the network protocols. </p>
<h3 id="hardware-support"><a class="doc-anchor" href="#hardware-support">§</a>Hardware support</h3>
<ul>
<li><a href="https://github.com/esp-rs/esp-wifi"><code>esp-wifi</code></a> for WiFi support on bare-metal ESP32 chips. Maintained by Espressif.</li>
<li><a href="https://github.com/embassy-rs/embassy/tree/main/cyw43"><code>cyw43</code></a> for WiFi on CYW43xx chips, used in the Raspberry Pi Pico W</li>
<li><a href="https://github.com/embassy-rs/embassy/tree/main/embassy-usb"><code>embassy-usb</code></a> for Ethernet-over-USB (CDC NCM) support.</li>
<li><a href="https://github.com/embassy-rs/embassy/tree/main/embassy-stm32"><code>embassy-stm32</code></a> for the builtin Ethernet MAC in all STM32 chips (STM32F1, STM32F2, STM32F4, STM32F7, STM32H7, STM32H5).</li>
<li><a href="https://github.com/embassy-rs/embassy/tree/main/embassy-net-wiznet"><code>embassy-net-wiznet</code></a> for Wiznet SPI Ethernet MAC+PHY chips (W5100S, W5500)</li>
<li><a href="https://github.com/embassy-rs/embassy/tree/main/embassy-net-esp-hosted"><code>embassy-net-esp-hosted</code></a> for using ESP32 chips with the <a href="https://github.com/espressif/esp-hosted"><code>esp-hosted</code></a> firmware as WiFi adapters for another non-ESP32 MCU.</li>
</ul>
<h3 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h3>
<ul>
<li>For usage with Embassy HALs and network chip drivers, search <a href="https://github.com/embassy-rs/embassy/tree/main/examples">here</a> for <code>eth</code> or <code>wifi</code>.</li>
<li>The <a href="https://github.com/esp-rs/esp-wifi"><code>esp-wifi</code> repo</a> has examples for use on bare-metal ESP32 chips.</li>
<li>For usage on <code>std</code> platforms, see <a href="https://github.com/embassy-rs/embassy/tree/main/examples/std/src/bin">the <code>std</code> examples</a></li>
</ul>
<h3 id="adding-support-for-new-hardware"><a class="doc-anchor" href="#adding-support-for-new-hardware">§</a>Adding support for new hardware</h3>
<p>To add <code>embassy-net</code> support for new hardware (i.e. a new Ethernet or WiFi chip, or
an Ethernet/WiFi MCU peripheral), you have to implement the <a href="https://crates.io/crates/embassy-net-driver"><code>embassy-net-driver</code></a>
traits.</p>
<p>Alternatively, <a href="https://crates.io/crates/embassy-net-driver-channel"><code>embassy-net-driver-channel</code></a> provides a higer-level API
to construct a driver that processes packets in its own background task and communicates with the <code>embassy-net</code> task via
packet queues for RX and TX.</p>
<p>Drivers should depend only on <code>embassy-net-driver</code> or <code>embassy-net-driver-channel</code>. Never on the main <code>embassy-net</code> crate.
This allows existing drivers to continue working for newer <code>embassy-net</code> major versions, without needing an update, if the driver
trait has not had breaking changes.</p>
<h3 id="interoperability"><a class="doc-anchor" href="#interoperability">§</a>Interoperability</h3>
<p>This crate can run on any executor.</p>
<p><a href="https://crates.io/crates/embassy-time"><code>embassy-time</code></a> is used for timekeeping and timeouts. You must
link an <code>embassy-time</code> driver in your project to use this crate.</p>
<h3 id="feature-flags"><a class="doc-anchor" href="#feature-flags">§</a>Feature flags</h3>
<ul>
<li><span class="stab portability"><code>defmt</code></span> —  Enable defmt</li>
<li><span class="stab portability"><code>packet-trace</code></span> —  Trace all raw received and transmitted packets using defmt or log.</li>
</ul>
<p>Many of the following feature flags are re-exports of smoltcp feature flags. See
the <a href="https://github.com/smoltcp-rs/smoltcp#feature-flags">smoltcp feature flag documentation</a>
for more details</p>
<ul>
<li><span class="stab portability"><code>udp</code></span> —  Enable UDP support</li>
<li><span class="stab portability"><code>tcp</code></span> —  Enable TCP support</li>
<li><span class="stab portability"><code>dns</code></span> —  Enable DNS support</li>
<li><span class="stab portability"><code>dhcpv4</code></span> —  Enable DHCPv4 support</li>
<li><span class="stab portability"><code>dhcpv4-hostname</code></span> —  Enable DHCPv4 support with hostname</li>
<li><span class="stab portability"><code>proto-ipv4</code></span> —  Enable IPv4 support</li>
<li><span class="stab portability"><code>proto-ipv6</code></span> —  Enable IPv6 support</li>
<li><span class="stab portability"><code>medium-ethernet</code></span> —  Enable the Ethernet medium</li>
<li><span class="stab portability"><code>medium-ip</code></span> —  Enable the IP medium</li>
<li><span class="stab portability"><code>medium-ieee802154</code></span> —  Enable the IEEE 802.15.4 medium</li>
<li><span class="stab portability"><code>igmp</code></span> —  Enable IGMP support</li>
</ul>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.driver"><code>pub use <a class="mod" href="../embassy_net_driver/index.html" title="mod embassy_net_driver">embassy_net_driver</a> as driver;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="dns/index.html" title="mod embassy_net::dns">dns</a></div><div class="desc docblock-short">DNS client compatible with the <code>embedded-nal-async</code> traits.</div></li><li><div class="item-name"><a class="mod" href="tcp/index.html" title="mod embassy_net::tcp">tcp</a></div><div class="desc docblock-short">TCP sockets.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Config.html" title="struct embassy_net::Config">Config</a></div><div class="desc docblock-short">Network stack configuration.</div></li><li><div class="item-name"><a class="struct" href="struct.DhcpConfig.html" title="struct embassy_net::DhcpConfig">DhcpConfig</a></div><div class="desc docblock-short">DHCP configuration.</div></li><li><div class="item-name"><a class="struct" href="struct.EthernetAddress.html" title="struct embassy_net::EthernetAddress">EthernetAddress</a></div><div class="desc docblock-short">A six-octet Ethernet II address.</div></li><li><div class="item-name"><a class="struct" href="struct.IpEndpoint.html" title="struct embassy_net::IpEndpoint">IpEndpoint</a></div><div class="desc docblock-short">An internet endpoint address.</div></li><li><div class="item-name"><a class="struct" href="struct.IpListenEndpoint.html" title="struct embassy_net::IpListenEndpoint">IpListenEndpoint</a></div><div class="desc docblock-short">An internet endpoint address for listening.</div></li><li><div class="item-name"><a class="struct" href="struct.Ipv4Address.html" title="struct embassy_net::Ipv4Address">Ipv4Address</a></div><div class="desc docblock-short">A four-octet IPv4 address.</div></li><li><div class="item-name"><a class="struct" href="struct.Ipv4Cidr.html" title="struct embassy_net::Ipv4Cidr">Ipv4Cidr</a></div><div class="desc docblock-short">A specification of an IPv4 CIDR block, containing an address and a variable-length
subnet masking prefix length.</div></li><li><div class="item-name"><a class="struct" href="struct.Ipv6Address.html" title="struct embassy_net::Ipv6Address">Ipv6Address</a></div><div class="desc docblock-short">A sixteen-octet IPv6 address.</div></li><li><div class="item-name"><a class="struct" href="struct.Ipv6Cidr.html" title="struct embassy_net::Ipv6Cidr">Ipv6Cidr</a></div><div class="desc docblock-short">A specification of an IPv6 CIDR block, containing an address and a variable-length
subnet masking prefix length.</div></li><li><div class="item-name"><a class="struct" href="struct.Stack.html" title="struct embassy_net::Stack">Stack</a></div><div class="desc docblock-short">A network stack.</div></li><li><div class="item-name"><a class="struct" href="struct.StackResources.html" title="struct embassy_net::StackResources">StackResources</a></div><div class="desc docblock-short">Memory resources needed for a network stack.</div></li><li><div class="item-name"><a class="struct" href="struct.StaticConfigV4.html" title="struct embassy_net::StaticConfigV4">StaticConfigV4</a></div><div class="desc docblock-short">Static IP address configuration.</div></li><li><div class="item-name"><a class="struct" href="struct.StaticConfigV6.html" title="struct embassy_net::StaticConfigV6">StaticConfigV6</a></div><div class="desc docblock-short">Static IPv6 address configuration</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ConfigV4.html" title="enum embassy_net::ConfigV4">ConfigV4</a></div><div class="desc docblock-short">Network stack IPv4 configuration.</div></li><li><div class="item-name"><a class="enum" href="enum.ConfigV6.html" title="enum embassy_net::ConfigV6">ConfigV6</a></div><div class="desc docblock-short">Network stack IPv6 configuration.</div></li><li><div class="item-name"><a class="enum" href="enum.HardwareAddress.html" title="enum embassy_net::HardwareAddress">HardwareAddress</a></div><div class="desc docblock-short">Representation of an hardware address, such as an Ethernet address or an IEEE802.15.4 address.</div></li><li><div class="item-name"><a class="enum" href="enum.IpAddress.html" title="enum embassy_net::IpAddress">IpAddress</a></div><div class="desc docblock-short">An internetworking address.</div></li><li><div class="item-name"><a class="enum" href="enum.IpCidr.html" title="enum embassy_net::IpCidr">IpCidr</a></div><div class="desc docblock-short">A specification of a CIDR block, containing an address and a variable-length
subnet masking prefix length.</div></li></ul></section></div></main></body></html>